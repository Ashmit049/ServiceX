<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Application - ServiceX</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body class="bg-gray-50 font-sans">
  <!-- Navigation -->
  <nav class="bg-gradient-to-r from-blue-600 to-purple-700 shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center">
          <a href="./HomePages/home.html" class="text-white text-2xl font-bold tracking-wide">ServiceX</a>
          <div class="ml-10 flex items-baseline space-x-4">
            <a href="./HomePages/home.html" class="text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium">Home</a>
           
            <a href="job.html" class="text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium">Jobs</a>
            <a href="userprofile.html" class="text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium">Profile</a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
    <!-- Breadcrumb Navigation -->
    <nav class="flex mb-6" aria-label="Breadcrumb">
      <ol class="flex items-center space-x-2">
        <li>
          <a href="./HomePages/home.html" class="text-gray-500 hover:text-gray-700">Home</a>
        </li>
        <li class="flex items-center">
          <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
          </svg>
          <a href="jobs.html" class="ml-2 text-gray-500 hover:text-gray-700">Jobs</a>
        </li>
        <li class="flex items-center">
          <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
          </svg>
          <span class="ml-2 text-gray-900 font-medium" id="job-title">Job Application</span>
        </li>
      </ol>
    </nav>

    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
      <!-- Job Details & Simple Application -->
      <div class="p-6">
        <div class="mb-6">
          <img id="job-image" src="/api/placeholder/400/320" alt="Job" class="w-full h-64 object-cover rounded-lg">
        </div>
        <h1 id="job-position" class="text-2xl font-bold mb-4">Position Title</h1>
        
        <div class="grid md:grid-cols-2 gap-6 mb-8">
          <!-- Job details -->
          <div>
            <div class="flex items-center mb-4">
              <div class="flex text-blue-600">
                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                </svg>
                <span id="job-location" class="ml-1">Location</span>
              </div>
              <span class="mx-2">|</span>
              <span id="job-salary" class="text-green-600 font-bold">₹30,000/month</span>
            </div>
            
            <div class="mb-6">
              <h2 class="font-semibold text-lg mb-2">Job Description</h2>
              <p id="job-description" class="text-gray-700">Detailed description of the job including responsibilities, day-to-day tasks, and expectations.</p>
            </div>
          </div>
          
          <!-- Address and Time -->
          <div class="bg-gray-50 p-4 rounded-lg">
            <h2 class="text-lg font-semibold mb-4"> Details</h2>
            
            <div class="space-y-4">
              <div>
                <h3 class="font-medium text-gray-700">Location Address:</h3>
                <p id="job-address" class="text-gray-900 mt-1">123 Business Park, Building 4, 
                <br>Floor 2, Mumbai, 400001</p>
              </div>
              
              <div>
                <h3 class="font-medium text-gray-700"> Time:</h3>
                <p id="job-time" class="text-gray-900 mt-1">April 25, 2025 at 10:30 AM</p>
              </div>
              
              
            </div>
          </div>
        </div>
        
        <!-- Simple Application Form -->
        <div class="border-t border-gray-200 pt-6">
          <h2 class="text-xl font-bold mb-4">Confirm Your Application</h2>
          
          <form id="application-form" class="space-y-6">
            <div class="flex items-start">
              <div class="flex items-center h-5">
                <input id="confirm-attendance" type="checkbox" class="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded" required>
              </div>
              <div class="ml-3 text-sm">
                <label for="confirm-attendance" class="font-medium text-gray-700">I confirm that I will attend at the specified time and location</label>
              </div>
            </div>
            
            <div>
              <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">Additional Notes (Optional)</label>
              <textarea id="notes" name="notes" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"></textarea>
            </div>
            
            <div>
              <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-purple-700 text-white py-3 rounded-md font-medium hover:from-blue-700 hover:to-purple-800 transition duration-300">Submit Application</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-8 mt-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-xl font-bold mb-4">ServiceX</h3>
          <p class="text-gray-400">Connecting professionals and opportunities worldwide.</p>
        </div>
        <div>
          <h4 class="font-semibold mb-3">Quick Links</h4>
          <ul class="space-y-2">
            <li><a href="./HomePages/home.html" class="text-gray-400 hover:text-white">Home</a></li>
            
            <li><a href="jobs.html" class="text-gray-400 hover:text-white">Jobs</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-semibold mb-3">Support</h4>
          <ul class="space-y-2">
            <li><a href="./HomePages/home.html#contact" class="text-gray-400 hover:text-white">Contact Us</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white">FAQ</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white">Help Center</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-semibold mb-3">Connect With Us</h4>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white">
              <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"/>
              </svg>
            </a>
            <a href="#" class="text-gray-400 hover:text-white">
              <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.824 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489v.385z"/>
              </svg>
            </a>
            <a href="#" class="text-gray-400 hover:text-white">
              <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm2 9h-4v2h4v2h-4v2h4v2h-6v-8h6v2zm2 8h6v-8h-6v8zm1-7h4v2h-4v-2zm0 3h4v2h-4v-2zm1 3h2v2h-2v-2z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
      <div class="text-center mt-8 pt-6 border-t border-gray-800">
        <p>&copy; 2025 ServiceX. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Get URL parameters
    function getUrlParams() {
      const urlParams = new URLSearchParams(window.location.search);
      return {
        jobTitle: urlParams.get('title') || 'Position Title',
        jobSalary: urlParams.get('salary') || '₹30,000/month',
        jobLocation: urlParams.get('location') || 'Mumbai',
        jobDescription: urlParams.get('description') || 'Job description details',
        jobImage: urlParams.get('image') || '/api/placeholder/400/320'
      };
    }
  
    // Form submission
    document.getElementById('application-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const token = localStorage.getItem('token');
      if (!token) {
        alert('Please log in to apply for this job.');
        return;
      }
      
      try {
        const formData = new FormData(this);
        const jobTitle = document.getElementById('job-position').textContent;
        
        // Add job title to form data
        formData.append('jobTitle', jobTitle);
        formData.append('jobAddress', document.getElementById('job-address').textContent);
        formData.append('jobTime', document.getElementById('job-time').textContent);
        
        // In a real application, this would send the data to your server
       

await axios.post('http://localhost:5000/apply-job', {
  jobTitle,
  jobAddress: document.getElementById('job-address').textContent,
  jobTime: document.getElementById('job-time').textContent,
  notes: formData.get('notes')
}, {
  headers: {
    Authorization: `Bearer ${token}`
  }
});

alert('Application submitted successfully!');
window.location.href = './HomePages/home1.html';


      } catch (error) {
        console.error('Application error:', error);
        alert('An error occurred while submitting your application.');
      }
    });
  
    // Initialize the page
    window.onload = function () {
      const params = getUrlParams();
  
      document.getElementById('job-title').textContent = params.jobTitle;
      document.getElementById('job-position').textContent = params.jobTitle;
      document.getElementById('job-salary').textContent = params.jobSalary;
      document.getElementById('job-location').textContent = params.jobLocation;
      document.getElementById('job-description').textContent = params.jobDescription;
      document.getElementById('job-image').src = params.jobImage;
      document.getElementById('job-image').alt = params.jobTitle;
      
      // Set job address based on location
      const addresses = {
        'Mumbai': '123 Marine Drive, Nariman Point, Mumbai, 400021',
        'Delhi': '45 Connaught Place, New Delhi, 110001',
        'Hyderabad': '789 Hitech City, Madhapur, Hyderabad, 500081',
        'Nagpur': '56 Civil Lines, Nagpur, 440001',
        'Surat': '234 Ring Road, Adajan, Surat, 395009',
        'Pune': '67 Koregaon Park, Pune, 411001',
        'Bangalore': '890 MG Road, Bangalore, 560001',
        'Indore': '34 Vijay Nagar, Indore, 452010',
        'Chennai': '678 Anna Salai, Chennai, 600002',
        'Kolkata': '123 Park Street, Kolkata, 700016',
        'Ahmedabad': '456 SG Highway, Ahmedabad, 380054',
        'Lucknow': '90 Hazratganj, Lucknow, 226001',
        'Bhopal': '45 MP Nagar, Bhopal, 462011',
        'Jaipur': '78 Pink City, Jaipur, 302001',
        'Chandigarh': '23 Sector 17, Chandigarh, 160017',
        'Noida': '56 Sector 18, Noida, 201301'
      };
      
      document.getElementById('job-address').textContent = addresses[params.jobLocation] || 
        '123 Business Park, ServiceX Building, ' + params.jobLocation;
      
      // Set a random future date/time for interview
      const interviewDate = new Date();
      interviewDate.setDate(interviewDate.getDate() + Math.floor(Math.random() * 14) + 3); // 3-17 days from now
      interviewDate.setHours(9 + Math.floor(Math.random() * 8), Math.random() > 0.5 ? 0 : 30, 0); // 9 AM - 5 PM
      
      const options = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric',
        hour: '2-digit', 
        minute: '2-digit'
      };
      document.getElementById('job-time').textContent = interviewDate.toLocaleDateString('en-US', options);
    };
  </script>
</body>
</html>
